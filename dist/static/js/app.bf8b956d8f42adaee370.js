webpackJsonp([1],{0:function(e,t){},"1Kwa":function(e,t){},NHnr:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=i("7+uW"),s=i("Zzkc"),n={name:"utilitary",props:[],data:function(){return{colors:"#154522"}},components:{"color-picker":s.Sketch},methods:{goto:function(e){var t=this.$refs[e];console.log(this.$refs);var i=t.offsetTop;window.scrollTo(0,i)}}},r={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"utilitary"},[i("sui-header",{attrs:{color:"blue",size:"big"}},[e._v(" Utilitaires ")]),e._v(" "),i("sui-divider",{attrs:{horizontal:""}},[e._v("Color Picker")]),e._v(" "),i("div",{staticClass:"color-picker"},[i("color-picker",{model:{value:e.colors,callback:function(t){e.colors=t},expression:"colors"}})],1)],1)},staticRenderFns:[]};var o=i("VU/8")(n,r,!1,function(e){i("nLSJ")},"data-v-b2ad7416",null).exports,l={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"var_table_div"},[i("sui-header",{attrs:{color:"blue",size:"big"}},[e._v(" Variables ")]),e._v(" "),i("sui-divider",{attrs:{horizontal:""}}),e._v(" "),i("div",{staticClass:"var_table"},[i("sui-table",{attrs:{celled:"",size:"small",compact:"very",color:"blue"}},[i("sui-table-header",[i("sui-table-row",[i("sui-table-header-cell",[e._v("Nom")]),e._v(" "),i("sui-table-header-cell",[e._v("Type")]),e._v(" "),i("sui-table-header-cell",[e._v("Valeur finale")])],1)],1),e._v(" "),i("sui-table-body",{staticClass:"table_body"},[e._l(e.turtle_variables,function(t,a){return i("sui-table-row",{key:a,attrs:{state:"warning"}},[i("sui-table-cell",[e._v("tortue_"+e._s(a))]),e._v(" "),i("sui-table-cell",[e._v(e._s(typeof t))]),e._v(" "),i("sui-table-cell",[e._v(e._s(t))])],1)}),e._v(" "),e._l(e.variables,function(t,a){return i("sui-table-row",{key:a},[i("sui-table-cell",[e._v(e._s(a))]),e._v(" "),i("sui-table-cell",[e._v(e._s(typeof t))]),e._v(" "),i("sui-table-cell",[e._v(e._s(t))])],1)})],2)],1)],1)],1)},staticRenderFns:[]};var c={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"rendered-image-div"},[i("sui-header",{attrs:{color:"blue",size:"big"}},[e._v(" Résultat ")]),e._v(" "),Boolean(e.machine_code.error)?i("sui-message",{attrs:{id:"error-message",error:!0}},[i("h2",[e._v("La compilation a échoué")]),e._v(" "),i("p",[e._v("Erreur de syntaxe à la ligne "+e._s(e.machine_code.error.hash.line+1))])]):e._e(),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:!Boolean(e.machine_code.error),expression:"!Boolean(machine_code.error)"}],attrs:{id:"canvas"}})],1)},staticRenderFns:[]};var u={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{ref:"docs",staticClass:"docs-table"},[i("sui-header",{attrs:{size:"big",color:"blue"}},[e._v("Documentation ")]),e._v(" "),i("sui-accordion",{staticClass:"doc-accordion",attrs:{exclusive:"",styled:""}},e._l(e.instructions_docs,function(t,a){return i("div",{key:a},[i("sui-accordion-title",[i("sui-icon",{attrs:{name:"dropdown"}}),e._v("\n                "+e._s(t.name)+"\n            ")],1),e._v(" "),i("sui-accordion-content",[i("sui-divider",{attrs:{horizontal:""}},[e._v(" Description ")]),e._v(" "),i("p",[e._v(" "+e._s(t.description)+" ")]),e._v(" "),i("sui-divider",{attrs:{horizontal:""}},[e._v(" Paramètres obligatoires ")]),e._v(" "),i("sui-table",{attrs:{compact:"",color:"red"}},[i("sui-table-header",[i("sui-table-header-cell",[e._v(" Noms ")]),e._v(" "),i("sui-table-header-cell",[e._v(" Type ")]),e._v(" "),i("sui-table-header-cell",[e._v(" Description ")])],1),e._v(" "),e._l(t.mandatory_params,function(t,a){return i("sui-table-row",{key:t.name+"mand"+a},[i("sui-table-cell",[e._v(" "+e._s(t.name))]),e._v(" "),i("sui-table-cell",[e._v(" "+e._s(t.type))]),e._v(" "),i("sui-table-cell",[e._v(" "+e._s(t.description))])],1)})],2),e._v(" "),i("sui-divider",{attrs:{horizontal:""}},[e._v(" Paramètres optionelles ")]),e._v(" "),i("sui-table",{attrs:{compact:"",color:"blue"}},[i("sui-table-header",[i("sui-table-header-cell",[e._v(" Noms ")]),e._v(" "),i("sui-table-header-cell",[e._v(" Type ")]),e._v(" "),i("sui-table-header-cell",[e._v(" Description ")]),e._v(" "),i("sui-table-header-cell",[e._v(" Valeur de base ")])],1),e._v(" "),e._l(t.optionnal_params,function(t){return i("sui-table-row",{key:t.name+"opt"},[i("sui-table-cell",[e._v(" "+e._s(t.name))]),e._v(" "),i("sui-table-cell",[e._v(" "+e._s(t.type))]),e._v(" "),i("sui-table-cell",[e._v(" "+e._s(t.description))]),e._v(" "),i("sui-table-cell",[e._v(" "+e._s(t.base_value))])],1)})],2),e._v(" "),i("sui-divider",{attrs:{horizontal:""}},[e._v(" Exemples ")]),e._v(" "),i("sui-table",{attrs:{basic:"very"}},e._l(t.exemples,function(t){return i("sui-table-row",{key:t+"ex"},[i("sui-table-cell",[i("span",{domProps:{innerHTML:e._s(t)}})])],1)}))],1)],1)}))],1)},staticRenderFns:[]};var d={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"options_compilator"}},[i("sui-header",{attrs:{color:"blue",size:"big"}},[e._v("Options")]),e._v(" "),i("sui-divider",{attrs:{horizontal:""}},[e._v(" Taille de l'image ")]),e._v(" "),i("div",[i("sui-label",{attrs:{color:e.image_width<=e.minimum_width?"red":"blue"}},[e._v("\n            Largeur\n            "),i("sui-input",{attrs:{type:"number",error:e.image_width<=e.minimum_width,placeholder:e.image_width},model:{value:e.image_width,callback:function(t){e.image_width=t},expression:"image_width"}}),e._v("\n            px\n        ")],1),e._v(" "),i("sui-label",{tag:"a",attrs:{color:e.image_height<=e.minimum_height?"red":"blue"}},[e._v("\n            Hauteur\n            "),i("sui-input",{attrs:{type:"number",placeholder:e.image_height},model:{value:e.image_height,callback:function(t){e.image_height=t},expression:"image_height"}}),e._v("\n            px\n        ")],1),e._v(" "),i("sui-message",{directives:[{name:"show",rawName:"v-show",value:e.image_height<=e.minimum_height||e.image_width<=e.minimum_width,expression:"image_height <= minimum_height || image_width <= minimum_width"}],attrs:{error:!0}},[i("p",[e._v(" la taille minimal de l'image doit être de "+e._s(e.minimum_width)+" x "+e._s(e.minimum_height)+" pixels")])])],1),e._v(" "),i("sui-divider",{attrs:{horizontal:""}},[e._v(" Options de compilation ")]),e._v(" "),i("sui-menu",{attrs:{tabular:""}},e._l(e.compilation_type,function(t){return i("sui-menu-item",{key:t,tag:"a",attrs:{active:e.isActive(t),content:t},on:{click:function(i){i.preventDefault(),e.select(t)}}})})),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.isActive(e.compilation_type[0]),expression:"isActive(compilation_type[0])"}],staticClass:"option_div",attrs:{id:"static_options"}},[e._v("\n        Compile le programme sous forme d'un canevas. Chaque instruction créée une nouvelle couche sur le canevas.\n    ")]),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.isActive(e.compilation_type[1]),expression:"isActive(compilation_type[1])"}],staticClass:"option_div",attrs:{id:"animated_options"}},[i("p",[e._v("Compile le programme sous forme d'une animation.")]),e._v(" "),i("sui-form",{attrs:{id:"animated_options_form"}},[i("sui-form-field",[i("sui-checkbox",{attrs:{toggle:"",label:"Affichage de la tortue"},model:{value:e.turtle_display,callback:function(t){e.turtle_display=t},expression:"turtle_display"}})],1),e._v(" "),i("sui-form-field",[i("sui-label",{tag:"a",attrs:{color:e.between_frame_delay<=e.min_frame_delay||e.between_frame_delay>=e.max_frame_delay?"red":"blue"}},[e._v("\n                    Délai entre chaque frame (ms)\n                    "),i("sui-input",{attrs:{type:"number",placeholder:e.between_frame_delay},model:{value:e.between_frame_delay,callback:function(t){e.between_frame_delay=t},expression:"between_frame_delay"}})],1)])],1),e._v(" "),i("sui-message",{directives:[{name:"show",rawName:"v-show",value:e.between_frame_delay<=e.min_frame_delay||e.between_frame_delay>=e.max_frame_delay,expression:"between_frame_delay <= min_frame_delay || between_frame_delay >= max_frame_delay"}],attrs:{error:!0}},[i("p",[e._v(" le delai doit être compris entre "+e._s(e.min_frame_delay)+" ms et "+e._s(e.max_frame_delay)+" ms.")])])],1),e._v(" "),i("sui-divider",{attrs:{horizontal:""}},[e._v(" Compilation ")]),e._v(" "),i("sui-button",{attrs:{size:"big",color:"blue",content:"Lancer",loading:e.is_compiling},on:{click:function(t){e.$emit("compile",e.getCompileOptions())}}}),e._v(" "),i("sui-button",{attrs:{size:"big",color:"blue",content:"Telecharger",disabled:!e.compilation_successful}})],1)},staticRenderFns:[]};var p={name:"App",data:function(){return{editor_content:"",is_compiling:!1,compilation_successful:!1,variables:[],turtle_variables:{x:0,y:0,angle:0},error_message:"",machine_code:[],compile_options:[]}},components:{var_table:i("VU/8")({name:"docs_table",props:["variables","turtle_variables"],data:function(){return{}}},l,!1,function(e){i("m8Ao")},null,null).exports,rendered_image:i("VU/8")({name:"rendered_image",props:["machine_code","compile_options"],data:function(){return{error_message:""}},watch:{machine_code:function(e,t){this.draw&&this.draw.clear(),this.machine_code.instructions&&(this.draw=new this.$SVGgenerator("canvas",this.compile_options.image_width,this.compile_options.image_height,this.machine_code.instructions,this.compile_options.compilation_type,this.compile_options.between_frame_delay,this.compile_options.turtle_display),this.draw.generateCode())}}},c,!1,function(e){i("1Kwa")},null,null).exports,docs_table:i("VU/8")({name:"docs_table",data:function(){return{instructions_docs:[{name:"Tracer",mandatory_params:[{name:"destination",type:"number",description:"longeur du trait à tracer"},{name:"destination",type:"coordonnées",description:"coordonnées de destination"}],optionnal_params:[{name:"couleur",type:"couleur",description:"couleur du trait",base_value:"#000000"},{name:"largeur",type:"number",description:"largeur du trait en pixels",base_value:"1"},{name:"arrondi",type:"booleen",description:"arrondi au extrémitées de la ligne",base_value:"0"}],description:"Trace un trait en déplaçant la tortue entre sa position actuelle et la destination",exemples:['tracer <span class="obi">200 </span>;','tracer <span class="obi">200:100 </span> <span class="opt">c:#1124AA l:5 a:1 </span>;','Tracer <span class="obi">200 </span> <span class="opt">a:5 l:6 </span>;']},{name:"Tourner",mandatory_params:[{name:"angle",type:"number",description:"angle à ajouter à l'angle actuel de la tortue"}],optionnal_params:[{name:"unités",type:"chaine de caractères",description:"unités de l'angle (degrées ou radians)",base_value:"degrées"}],description:"Change l'angle de la tortue",exemples:['tourner <span class="obi">90</span>;','Tourner <span class="obi">30</span> <span class="opt">u:degrées</span>;','tourner <span class="obi">PI/2</span> <span class="opt">u:radians</span>;']},{name:"Déplacer",mandatory_params:[{name:"destination",type:"number",description:"espace de déplacement de la tortue suivant l'angle de la tortue"},{name:"destination",type:"coordonnées",description:"coordonnées de destination de la tortue"}],optionnal_params:[],description:"Déplacer la tortue sans tracer de trait",exemples:['déplacer <span class="obi">200:100</span>;','Deplacer <span class="obi">267</span>;','deplacer <span class="obi">600:300</span>;']},{name:"Rectangle",mandatory_params:[{name:"largeur",type:"number",description:"largeur du rectangle (sens de la tortue)"},{name:"longeur",type:"number",description:"longeur du rectangle (sens perpendiculaire de la tortue)"}],optionnal_params:[{name:"couleur",type:"couleur",description:"couleur du rectangle",base_value:"#000000"},{name:"largeur",type:"number",description:"largeur du cadre du rectangle",base_value:"1"},{name:"arrondi",type:"Booleen",description:"arrondi aux angles du rectangle",base_value:"0"},{name:"remplissage",type:"Booleen",description:"remplissage ou non du rectangle",base_value:"0"}],description:"Trace un rectangle autour de la tortue",exemples:['rectangle <span class="obi">90 600</span> <span class="opt">r:1</span>;','Rectangle <span class="obi">100 200</span> <span class="opt">c:#11da54 l:0</span>;','rectangle <span class="obi">20 20</span> <span class="opt"></span>;']},{name:"Cercle",mandatory_params:[{name:"rayon",type:"number",description:"rayon du cercle"}],optionnal_params:[{name:"couleur",type:"couleur",description:"couleur du remplissage du cercle",base_value:"#000000"},{name:"largeur du cadre",type:"number",description:"largeur du cadre du cercle",base_value:"1"},{name:"remplissage",type:"Booleen",description:"remplissage ou non du cercle",base_value:"0"}],description:"Trace un cercle centrée sur la tortue",exemples:['cercle <span class="obi">120</span> <span class="opt">l:1</span>;','cercle <span class="obi">10</span> <span class="opt">c:#AADD00 l:0</span>;','Cercle <span class="obi">70</span> <span class="opt"></span>;']},{name:"Ellipse",mandatory_params:[{name:"grand rayon",type:"number",description:"grand rayon du cercle"},{name:"petit rayon",type:"number",description:"petit rayon du cercle"}],optionnal_params:[{name:"couleur",type:"couleur",description:"couleur du remplissage du cercle",base_value:"#000000"},{name:"largeur du cadre",type:"number",description:"largeur du cadre de l'ellipse",base_value:"1"},{name:"remplissage",type:"Booleen",description:"remplissage ou non de l'ellispe",base_value:"0"}],description:"Trace une ellipse centrée sur la tortue",exemples:['Ellipse <span class="obi">90 100</span> <span class="opt">l:1</span>;','Ellipse <span class="obi">10 100</span> <span class="opt">c:#AADD00 l:0</span>;','ellipse <span class="obi">500 60</span> <span class="opt">r:1 c:#AADD11</span>;']},{name:"fond",mandatory_params:[{name:"couleur fond",type:"couleur",description:"Couleur de fond de l'image"}],optionnal_params:[],description:"Change la couleur de fond de l'image",exemples:['Couleur_fond <span class="obi">#AE4D52</span>;','couleur_fond <span class="obi">#AA12E5</span>;','couleur_fond <span class="obi">#445122</span>;']}]}}},u,!1,function(e){i("YN4m")},null,null).exports,options_compilator:i("VU/8")({name:"options_compilator",props:["is_compiling","compilation_successful"],data:function(){return{compilation_type:["Statique","Animé"],active_compilation_type:"Statique",image_width:1e3,image_height:800,minimum_width:50,minimum_height:50,turtle_display:!0,between_frame_delay:300,min_frame_delay:10,max_frame_delay:3e3}},methods:{isActive:function(e){return this.active_compilation_type===e},select:function(e){this.active_compilation_type=e},getCompileOptions:function(){return{compilation_type:this.active_compilation_type,turtle_display:this.turtle_display,between_frame_delay:this.between_frame_delay,image_width:this.image_width,image_height:this.image_height}}}},d,!1,function(e){i("Nlbf")},null,null).exports,utilitary:o,editor:i("o4sT")},methods:{editorInit:function(e){i("R3yc"),i("7ojP"),e.setOptions({fontSize:"14px",showPrintMargin:!1})},onCompile:function(e){this.is_compiling=!0,this.$http.post("http://localhost:5000/compile",{code:this.editor_content}).then(function(t){this.is_compiling=!1,t.body.error?this.compilation_successful=!1:(this.compilation_successful=!0,this.variables=t.body.variables,this.turtle_variables=t.body.turtle_pos,this.compile_options=e),this.machine_code=t.body})}}},m={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"app"}},[i("header",[i("sui-header",{attrs:{color:"blue",size:"huge"}},[e._v("Turtle-Draw ISEN")]),e._v(" "),i("sui-header",[e._v("Matthieu SIMON - Corentin DUVAL")]),e._v(" "),i("sui-divider",{attrs:{horizontal:""}})],1),e._v(" "),i("sui-grid",{attrs:{celled:""}},[i("sui-grid-row",[i("sui-grid-column",{attrs:{width:5}},[i("sui-header",{attrs:{color:"blue",size:"big"}},[e._v(" Editeur ")]),e._v(" "),i("sui-divider",{attrs:{horizontal:""}}),e._v(" "),i("editor",{attrs:{height:"450",theme:"textmate"},on:{init:e.editorInit},model:{value:e.editor_content,callback:function(t){e.editor_content=t},expression:"editor_content"}})],1),e._v(" "),i("sui-grid-column",{attrs:{width:3}},[i("var_table",{attrs:{variables:e.variables,turtle_variables:e.turtle_variables}})],1),e._v(" "),i("sui-grid-column",{attrs:{width:3}},[i("utilitary")],1),e._v(" "),i("sui-grid-column",{attrs:{width:5}},[i("keep-alive",[i("options_compilator",{attrs:{is_compiling:e.is_compiling,compilation_successful:e.compilation_successful},on:{compile:e.onCompile}})],1)],1)],1),e._v(" "),i("sui-grid-row",[i("sui-grid-column",{attrs:{width:1}}),e._v(" "),i("sui-grid-column",{attrs:{width:14}},[i("rendered_image",{attrs:{machine_code:e.machine_code,compile_options:e.compile_options}})],1),e._v(" "),i("sui-grid-column",{attrs:{width:1}})],1),e._v(" "),i("sui-grid-row",[i("sui-grid-column",{attrs:{width:4}}),e._v(" "),i("sui-grid-column",{attrs:{width:8}},[i("docs_table")],1),e._v(" "),i("sui-grid-column",{attrs:{width:4}})],1)],1)],1)},staticRenderFns:[]};var _=i("VU/8")(p,m,!1,function(e){i("p2tc")},"data-v-339277aa",null).exports,h=i("myK/"),v=i.n(h),g=i("8+8L"),y=i("Zrlr"),f=i.n(y),b=i("wxAW"),w=i.n(b),x=i("or9x");Array.prototype.next=function(){return this[++this.current]},Array.prototype.prev=function(){return this[--this.current]},Array.prototype.current=0;var C=function(){function e(t,i,a,s,n,r,o){f()(this,e),this.instructions=s,this.draw=x(t).size(i,a),"Statique"==n&&(this.animation=0),"Animé"==n&&(this.animation=1),this.width=i,this.height=a,this.turtleWidth=.05*i,this.turtleHeight=.05*a,this.delay=r,this.turtle_display=o,this.array=[]}return w()(e,[{key:"generateImage",value:function(){this.generateCode()}},{key:"generateCode",value:function(){var e=this;this.background=this.draw.rect(this.width,this.height).fill("#FFF1E2"),this.turtle_display&&1==this.animation&&(this.turtle=this.draw.image("https://svgsilh.com/svg/1646214.svg").size(this.turtleWidth,this.turtleHeight).center(0,0)),this.instructions.forEach(function(t){e.array.push(t)}),"BACKGROUND_COLOR"==this.array[0].command&&this.generateBackground(this.turtle,this.background,this.array,0),"DRAW"==this.array[0].command&&this.generateDraw(this.turtle,this.background,this.array,0),"RECTANGLE"==this.array[0].command&&this.generateRectangle(this.turtle,this.background,this.array,0),"ELLIPSE"==this.array[0].command&&this.generateEllipse(this.turtle,this.background,this.array,0),"CIRCLE"==this.array[0].command&&this.generateCircle(this.turtle,this.background,this.array,0)}},{key:"generateBackground",value:function(e,t,i,a){var s=this,n=i[a];t.animate(1e3,"-",this.delay).fill(n.color).after(function(){void 0!=i[++a]&&("BACKGROUND_COLOR"==i[a].command&&s.generateBackground(e,t,i,a),"DRAW"==i[a].command&&s.generateDraw(e,t,i,a),"RECTANGLE"==i[a].command&&s.generateRectangle(e,t,i,a),"ELLIPSE"==i[a].command&&s.generateEllipse(e,t,i,a),"CIRCLE"==i[a].command&&s.generateCircle(e,t,i,a))}),this.animation||t.finish()}},{key:"generateDraw",value:function(e,t,i,a){var s,n=this,r=i[a];this.turtle_display&&1==this.animation?(this.angle=360*Math.atan(Math.abs(r.to.y-r.from.y)/Math.abs(r.to.x-r.from.x))/(2*Math.PI),this.distance=Math.sqrt((r.to.x-r.from.x)*(r.to.x-r.from.x)+(r.to.y-r.from.y)*(r.to.y-r.from.y)),s=e.center(r.from.x,r.from.y).animate(1e3,"-",this.delay).rotate(this.angle).animate(1e3,"-",this.delay).dmove(this.distance,0).during(function(){n.line=n.draw.line(r.from.x,r.from.y,r.from.x,r.from.y).stroke({color:r.options.color,width:r.options.width}).animate(1e3,"-",n.delay).plot(r.from.x,r.from.y,r.to.x,r.to.y)}).animate(1e3,"-",this.delay).rotate(0,this.distance,0)):(this.line=this.draw.line(r.from.x,r.from.y,r.from.x,r.from.y).stroke({color:r.options.color,width:r.options.width}),0==r.options.rounded?this.line.stroke({linecap:"square"}):this.line.stroke({linecap:"round"}),s=this.line.animate(1e3,"-",this.delay).plot(r.from.x,r.from.y,r.to.x,r.to.y)),s.after(function(){void 0!=i[++a]&&("BACKGROUND_COLOR"==i[a].command&&n.generateBackground(e,t,i,a),"DRAW"==i[a].command&&n.generateDraw(e,t,i,a),"RECTANGLE"==i[a].command&&n.generateRectangle(e,t,i,a),"ELLIPSE"==i[a].command&&n.generateEllipse(e,t,i,a),"CIRCLE"==i[a].command&&n.generateCircle(e,t,i,a))}),this.animation||this.line.finish()}},{key:"generateRectangle",value:function(e,t,i,a){var s,n=this,r=i[a];this.rect=this.draw.rect(0,0).center(r.pos.x,r.pos.y).stroke({width:r.options.width}),0==r.options.fill?this.rect.fill("none"):this.rect.fill(r.options.color),s=this.rect.animate(1e3,"-",this.delay).rotate(r.angle).attr({width:r.width,height:r.height}).center(r.pos.x,r.pos.y),0==r.options.rounded?this.rect.radius(0):this.rect.radius(10),this.turtle_display&&this.animation&&(e=e.center(r.pos.x,r.pos.y)),s.after(function(){void 0!=i[++a]&&("BACKGROUND_COLOR"==i[a].command&&n.generateBackground(e,t,i,a),"DRAW"==i[a].command&&n.generateDraw(e,t,i,a),"RECTANGLE"==i[a].command&&n.generateRectangle(e,t,i,a),"ELLIPSE"==i[a].command&&n.generateEllipse(e,t,i,a),"CIRCLE"==i[a].command&&n.generateCircle(e,t,i,a))}),this.animation||this.rect.finish().center(r.pos.x,r.pos.y)}},{key:"generateEllipse",value:function(e,t,i,a){var s,n=this,r=i[a];if(1==this.animation&&0==r.angle){this.ellipse=this.draw.path().attr({stroke:"none",fill:"none"}),this.ellipsePolyline=this.draw.polyline().stroke({width:r.options.width}),0==r.options.fill?this.ellipsePolyline.fill("none"):this.ellipsePolyline.fill(r.options.color);var o=["M",r.pos.x,r.pos.y,"m",-r.radius_x,0,"a",r.radius_x,r.radius_y,0,1,0,2*r.radius_x,0,"a",r.radius_x,r.radius_y,0,1,0,-2*r.radius_x,0];this.ellipse.attr({d:o.join(" ")});var l=this.ellipse.node.getTotalLength(),c=this.ellipse.node.getPointAtLength(0),u=this.ellipsePolyline.node.points;u.length>0&&u.removeItem(0),s=this.ellipsePolyline.animate(1e3,"-",this.delay).during(function(t){if(t>0){var i=l*t,a=n.ellipse.node.getPointAtLength(i),s=n.draw.node.createSVGPoint();if(s.x=a.x,s.y=a.y,u.appendItem(s),n.turtle_display&&n.animation){var r=c.x,o=c.y,d=a.x,p=a.y,m=(r+d)/2,_=(o+p)/2;e=e.center(m,_);var h,v=d-r,g=o-p,y=Math.abs(180*Math.asin(g/Math.sqrt(g*g+v*v))/Math.PI);v>=0&&g>=0&&(h=90-y+270),v>=0&&g<=0&&(h=y),v<=0&&g<=0&&(h=90-y+90),v<=0&&g>=0&&(h=180+y),h&&t>0&&(e=e.attr({transform:"rotate("+h+" "+m+" "+_+")"})),c=a}}})}else this.ellipse=this.draw.ellipse(0,0).center(r.pos.x,r.pos.y).stroke({width:r.options.width}),0==r.options.fill?this.ellipse.fill("none"):this.ellipse.fill(r.options.color),s=this.ellipse.animate(1e3,"-",this.delay).rotate(r.angle).radius(r.radius_x,r.radius_y);s.after(function(){void 0!=i[++a]&&("BACKGROUND_COLOR"==i[a].command&&n.generateBackground(e,t,i,a),"DRAW"==i[a].command&&n.generateDraw(e,t,i,a),"RECTANGLE"==i[a].command&&n.generateRectangle(e,t,i,a),"ELLIPSE"==i[a].command&&n.generateEllipse(e,t,i,a),"CIRCLE"==i[a].command&&n.generateCircle(e,t,i,a))}),this.animation||s.finish()}},{key:"generateCircle",value:function(e,t,i,a){var s,n=this,r=i[a];if(1==this.animation){this.circ=this.draw.polyline().stroke({width:r.options.width}),0==r.options.fill?this.circ.fill("none"):this.circ.fill(r.options.color),this.turtle_display&&(e=e.center(r.pos.x,r.pos.y+r.radius).flip("y",r.pos.y));var o=this.circ.node.points;o.length>0&&o.removeItem(0),s=this.circ.animate(1e3,"-",this.delay).during(function(t){var i=r.radius*Math.cos(Math.PI/2+2*t*Math.PI)+r.pos.x,a=r.radius*Math.sin(Math.PI/2+2*t*Math.PI)+r.pos.y;n.turtle_display&&(e=e.flip("y",r.pos.y).rotate(360*-t,r.pos.x,r.pos.y));var s=n.draw.node.createSVGPoint();s.x=i,s.y=a,o.appendItem(s)})}else this.circ=this.draw.circle(2*r.radius).move(r.pos.x-r.radius,r.pos.y-r.radius).stroke({width:r.options.width}),0==r.options.fill?this.circ.fill("none"):this.circ.fill(r.options.color),s=this.circ;s.after(function(){void 0!=i[++a]&&("BACKGROUND_COLOR"==i[a].command&&n.generateBackground(e,t,i,a),"DRAW"==i[a].command&&n.generateDraw(e,t,i,a),"RECTANGLE"==i[a].command&&n.generateRectangle(e,t,i,a),"ELLIPSE"==i[a].command&&n.generateEllipse(e,t,i,a),"CIRCLE"==i[a].command&&n.generateCircle(e,t,i,a))})}},{key:"clear",value:function(){this.draw.size(0,0)}}]),e}(),k={install:function(e){e.prototype.$SVGgenerator=C}};i("kVq8");a.a.use(k),a.a.use(v.a),a.a.use(g.a),new a.a({el:"#app",components:{App:_},methods:{},template:"<App/>"})},Nlbf:function(e,t){},YN4m:function(e,t){},kVq8:function(e,t){},m8Ao:function(e,t){},nLSJ:function(e,t){},p2tc:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.bf8b956d8f42adaee370.js.map